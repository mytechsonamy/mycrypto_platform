# ============================================================================
# MYTRADER TRADE ENGINE - CONFIGURATION
# ============================================================================
# Project: MyTrader White-Label Kripto Exchange Platform
# Environment: Development
# Version: 1.0
# ============================================================================

server:
  http_port: 8080
  websocket_port: 8081
  mode: debug  # debug, release
  read_timeout: 30s
  write_timeout: 30s
  shutdown_timeout: 30s
  idle_timeout: 60s

database:
  host: postgres
  port: 5432
  database: mytrader_trade_engine
  user: trade_engine_app
  password: dev_password_change_in_prod
  ssl_mode: disable
  pool_size: 50

redis:
  host: redis
  port: 6379
  password: ""
  db: 0
  pool_size: 100

kafka:
  brokers:
    - kafka:9092
  topics:
    trade_events: trade-events
    order_events: order-events

rabbitmq:
  host: "rabbitmq"
  port: 5672
  user: "guest"
  password: "guest"
  vhost: "/"
  connection_name: "trade-engine"

wallet_client:
  base_url: "http://localhost:8000"
  timeout: 5s
  max_retries: 3
  retry_wait_time: 1s
  retry_max_wait_time: 10s
  circuit_breaker_enabled: true
  circuit_breaker_max_requests: 3
  circuit_breaker_interval: 30s
  circuit_breaker_timeout: 60s
  circuit_breaker_failure_ratio: 0.5
  max_idle_conns: 10
  max_idle_conns_per_host: 5
  idle_conn_timeout: 30s
  rate_limit_enabled: false
  rate_limit_rps: 100
  use_mock: true

logging:
  level: info  # debug, info, warn, error
  format: json  # json, text

# Trading Configuration
trading:
  # Matching Engine
  matching:
    max_order_book_depth: 1000
    tick_size: "0.01"
    
  # Fees (default for all symbols)
  fees:
    maker_fee: "0.0005"  # 0.05%
    taker_fee: "0.0010"  # 0.10%
  
  # Risk Management
  risk:
    max_orders_per_user: 100
    max_orders_per_symbol: 20
    max_daily_volume: 1000000  # USDT
    
  # Rate Limiting
  rate_limits:
    orders_per_second: 10
    api_requests_per_minute: 100

# Monitoring
monitoring:
  prometheus:
    enabled: true
    port: 9091
    path: /metrics
  
  health_check:
    enabled: true
    path: /health

# Feature Flags (MVP)
features:
  paper_trading: true
  broker_integration: false
  websocket: true
  admin_panel: false
